# 세션이란?

세션은 사용자의 상태를 관리하기 위한 하나의 `기법`을 말한다.

세션을 통해 접속한 사용자의 `상태(State)`를 저장 및 관리할 수 있다.

## 세션은 왜 필요할까?

기본적으로 HTTP프로토콜은 상태가 없는(Stateless) 프로토콜이다. 왜일까? HTTP프로토콜에서 Server는 HTTP요청을 받고 HTTP응답을 보낸 후 연결(Connection)을 바로 끊어버린다. 즉, 사용자의 상태는 관리하지 않는 것이다.

## 세션의 동작 방식

생각해보면 `상태`를 관리한다는 것은 해당 클라이언트의 상태를 어딘가에 저장해야 한다는 것이다. 또, 해당 HTTP요청이 누구로부터 온 것인가? 를 판별하기 위한 수단도 필요하다.

하지만, 웹 브라우저에서 통신 방식은 HTTP이고, Server에서는 상태가 없는(Stateless)프로토콜 이라고 했다. 그렇다면 클라이언트의 상태를 어떻게 Server에서 관리할 수 있을까??

바로, 웹 브라우저의 Cookie를 활용하여 클라이언트의 `식별 정보를` 저장한다. 로그인을 통해 `인증`된 사용자에게 보내지는 Response의 헤더에 `Set-Cookie`헤더를 설정하고 클라이언트의 쿠키에 `세션ID`를 저장한다.

쿠키에 저장된 `세션ID`는 client에서 요청을 보낼때마다 HTTP Request Header에 저장되어 보내진다.

보내진 요청에 대해서 Server에서는 Session ID를 확인하고 해당 사용자가 인증된 사용자인지? 어떤 사용자인지를 식별하는 하나의 수단으로써 사용을 하게 되는 것이다.

### 세션ID를 저장하는 방법

#### Client

클라이언트에서 세션ID는 `Cookie`로 저장한다.

#### Server

Server에서 세션ID를 저장하기 위한 방법으로는 여러가지가 있다.

1. 서버의 메모리
2. DB
3. 인메모리 DB

위와 같이 나눌 수 있다.

각각의 방법에는 각자의 장단점이 있으며, `컴퓨터 메모리`, `데이터 접근 속도` 등등의 프로그램 각자의 상황에 맞게 방법을 택할 수 있다.
